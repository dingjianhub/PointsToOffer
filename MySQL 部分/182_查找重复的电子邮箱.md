# 182 ï¼šæŸ¥æ‰¾é‡å¤çš„ç”µå­é‚®ç®±

---

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/duplicate-emails/)

ğŸ“—difficultyï¼š**Easy**	

ğŸ¯Tagsï¼š

+ `JOIN` è¯­å¥
+ `GROUP BY` è¯­å¥
---

## 1. é¢˜ç›®æè¿°ğŸ“ƒ

ç¼–å†™ä¸€ä¸ª SQL æŸ¥è¯¢ï¼ŒæŸ¥æ‰¾ `Person` è¡¨ä¸­æ‰€æœ‰é‡å¤çš„ç”µå­é‚®ç®±ã€‚



**æ ·ä¾‹ 1 ï¼š**

```mysql
+----+---------+
| Id | Email   |
+----+---------+
| 1  | a@b.com |
| 2  | c@d.com |
| 3  | a@b.com |
+----+---------+
```

æ ¹æ®ä»¥ä¸Šè¾“å…¥ï¼Œä½ çš„æŸ¥è¯¢åº”è¿”å›ä»¥ä¸‹ç»“æœï¼š

```mysql
+---------+
| Email   |
+---------+
| a@b.com |
+---------+
```

**è¯´æ˜ï¼š**æ‰€æœ‰ç”µå­é‚®ç®±éƒ½æ˜¯å°å†™å­—æ¯ã€‚

---

## 2. è§£é¢˜æ€è·¯ğŸ’¡

### GROUP BY è¯­å¥

#### ä»£ç å®ç°

ä½¿ç”¨ `GROUP BY` å¯¹ `Email` è¡Œè¿›è¡Œåˆ†ç»„ã€‚

`GROUP BY` å¯¹ `NULL` ä¹Ÿè¿›è¡Œä¸€ä¸ªåˆ†ç»„ã€‚

ä½†æ˜¯ `count` ä¸è®¡ç®— `NULL` çš„è¡Œã€‚

```mysql
SELECT Email
FROM Person
GROUP BY Email
HAVING count(Email) > 1;
```

![](https://assets.ryantech.ltd/20200904141617.png)



---

### JOIN è¯­å¥

å®é™…ä¸Šï¼Œ `JOIN` æ˜¯ä¸€ä¸ªæ›´å¸¸ç”¨ä¹Ÿæ›´æœ‰æ•ˆçš„å°†è¡¨è¿èµ·æ¥çš„åŠæ³•ï¼Œæˆ‘ä»¬ä½¿ç”¨ `ON` æ¥æŒ‡æ˜æ¡ä»¶ã€‚

è¿™é‡Œçš„ JOIN æ˜¯å†…è¿æ¥ï¼ŒINNER JOIN çš„æ•ˆæœå’Œ JOIN ä¸€è‡´ã€‚

#### ä»£ç å®ç°

```mysql
select distinct(p1.Email)
from Person p1
         join Person p2 on p1.Email = p2.Email AND p1.Id != p2.Id;
```

---

## 3. æ€»ç»“ğŸ¯
