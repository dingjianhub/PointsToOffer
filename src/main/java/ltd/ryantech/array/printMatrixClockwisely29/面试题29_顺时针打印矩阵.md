# é¢è¯•é¢˜ 29 ï¼šé¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ

---

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problemset/lcof/)

ğŸ“—difficultyï¼š**Easy**	

ğŸ¯Tagsï¼š

+ **[æ•°ç»„](https://leetcode-cn.com/tag/array/)**
---

## 1. é¢˜ç›®æè¿°ğŸ“ƒ

è¾“å…¥ä¸€ä¸ªçŸ©é˜µï¼ŒæŒ‰ç…§ä»å¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¯ä¸€ä¸ªæ•°å­—ã€‚

**æ ·ä¾‹ 1 ï¼š**

```
è¾“å…¥ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]
è¾“å‡ºï¼š[1,2,3,6,9,8,7,4,5]
```



**æ ·ä¾‹ 2 ï¼š**

```
è¾“å…¥ï¼šmatrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]
è¾“å‡ºï¼š[1,2,3,4,8,12,11,10,9,5,6,7]
```



**é™åˆ¶ï¼š**

+ `0 <= matrix.length <= 100`
+ `0 <= matrix[i].length <= 100`



**æ³¨æ„ï¼š**

+ æœ¬é¢˜ä¸ä¸»ç«™ 54 é¢˜ç›¸åŒï¼šhttps://leetcode-cn.com/problems/spiral-matrix/



---

## 2. è§£é¢˜æ€è·¯ğŸ’¡

ç±»ä¼¼çš„é¢˜ç›®è¿˜æœ‰ï¼Œã€Šè›‡å½¢å¡«æ•°ã€‹ã€‚ç±»ä¼¼äºè´ªåƒè›‡ï¼Œåªèƒ½æœ‰ å››ä¸ªæ–¹å‘å»ç§»åŠ¨ï¼Œè€Œä¸”ä¸èƒ½è¶…è¶Šä¸€å®šçš„èŒƒå›´ã€‚

è¿™ç±»é¢˜ç›®ï¼Œç§°å…¶ä¸º**â€œæ¨¡æ‹Ÿé¢˜â€**ï¼Œå°±æ˜¯è¯´ï¼Œæœ¬é¢˜çš„è§£é¢˜è¿‡ç¨‹æ˜¯æ¨¡æ‹Ÿäººå·¥è§£å†³è¿™ç±»é—®é¢˜çš„è¿‡ç¨‹ï¼Œå¹¶ä¸æ¶‰åŠåˆ°å¾ˆå¤æ‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•ã€‚



é¦–å…ˆï¼Œè§‚å¯Ÿå¡«æ•°çš„é¡ºåºã€‚ä»å·¦ä¸Šè§’å¼€å§‹ï¼Œç„¶åå‘å³åˆ°è¾¹ç•Œï¼Œå†å‘ä¸‹ï¼Œå†å‘ä¸Šï¼Œå†å‘å³è¾¹ã€‚**å˜æ¢ 4 æ¬¡æ–¹å‘ã€‚**

![â€œè›‡å¤´â€å˜æ¢è¿‡ç¨‹](https://assets.ryantech.ltd/20200605135753.jpg)

å…¶ä¸­ä¸€ä¸ªç–‘é—®åœ¨ï¼Œå¦‚ä½•åœ¨å˜æ¢æ–¹å‘åç¡®å®šâ€œæŠ˜è¿”ç‚¹â€ï¼Ÿ

å¯¹äºå¤–åœˆçš„ç‚¹ä½æ¥è¯´ï¼Œå¯ä»¥åˆ¤æ–­æ˜¯å¦è¶Šç•Œã€‚ä½†æ˜¯å¯¹äºå†…åœˆçš„ç‚¹ä½ï¼Œå¿…é¡»è¦æœ‰ä¸ªæŒ‡ç¤ºçš„ä¸œè¥¿ï¼Œå¦åˆ™ä¼šé‡å¤èµ°èµ°è¿‡çš„è·¯ï¼Œé€ æˆ bug ã€‚

è€Œå¯¹äºè¶Šç•Œçš„åˆ¤æ–­æœ‰ 2 ç§æ€è·¯ï¼š

+ å…ˆæ±¡æŸ“ï¼Œåæ²»ç†ã€‚
+ ä¸æ±¡æŸ“ï¼Œå‘åçœ‹ä¸€ä¸ªã€‚

ä¸‹é¢ç»™å‡ºè¿™  2 ç§æ€è·¯çš„ä»£ç ã€‚

### å…ˆæ±¡æŸ“åæ²»ç†

è®¾ç½®ä¸€ä¸ªå’Œè¾“å…¥çŸ©é˜µç­‰å¤§çš„çŸ©é˜µï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ çš„åˆå§‹å€¼ä¸º 0ï¼Œä»£è¡¨åŸå§‹çŸ©é˜µç›¸åº”ä½ç½®æ²¡æœ‰è¢«è®¿é—®è¿‡ã€‚

æ¯æ¬¡è®¿é—®è¿‡è¯¥ä½ç½®åï¼Œå°†è¯¥ä½ç½®çš„å€¼å†™ä¸º 1ï¼Œä»£è¡¨è¯¥ä½ç½®çš„å…ƒç´ è¢«è®¿é—®è¿‡ã€‚å¦‚æœé‡åˆ°è¯¥ä½ç½®å…ƒç´ è¢«è®¿é—®äº†ï¼Œé‚£ä¹ˆå°±â€œæ’å—å¢™â€ï¼Œæ”¹å˜æ–¹å‘ã€‚ç›´åˆ°æ¯ä¸ªå…ƒç´ è¢«è®¿é—®åˆ°ã€‚



#### ä»£ç å®ç°

é¢å¤–æ–°å»ºä¸€ä¸ª `visited` æ•°ç»„ï¼Œä¸ä¿®æ”¹åŸè¾“å…¥æ•°æ®ã€‚

```java
public int[] spiralOrder(int[][] matrix) {
    if (matrix.length == 0) {
        return new int[]{};
    }
    int row = matrix.length;
    int column = matrix[0].length;
    int resSize = row * column;
    int[][] visited = new int[row][column];
    int[] ans = new int[resSize];
    int x = 0;
    int y = 0;
    int tot = 0;
    while (tot < resSize) {
        while (y < column && visited[x][y] == 0) {
            visited[x][y] = 1;
            ans[tot++] = matrix[x][y];
            y++;
        }
        y--; // ä¿®æ­£ï¼Œå»æ±¡æŸ“
        x++; // æ¢åˆ°ä¸‹ä¸€è¡Œ
        while (x < row && visited[x][y] == 0) {
            visited[x][y] = 1;
            ans[tot++] = matrix[x][y];
            x++;
        }
        x--; // ä¿®æ­£ï¼Œå»æ±¡æŸ“
        y--; // æ¢åˆ°ä¸‹ä¸€åˆ—
        while (y >= 0 && visited[x][y] == 0) {
            visited[x][y] = 1;
            ans[tot++] = matrix[x][y];
            y--;
        }
        y++; // ä¿®æ­£ï¼Œå»æ±¡æŸ“
        x--; // æ¢åˆ°ä¸‹ä¸€è¡Œ
        while (x >= 0 && visited[x][y] == 0) {
            visited[x][y] = 1;
            ans[tot++] = matrix[x][y];
            x--;
        }
        x++; // ä¿®æ­£ï¼Œå»æ±¡æŸ“
        y++; // æ¢åˆ°ä¸‹ä¸€åˆ—
    }
    return ans;
}
```



ä¿®æ”¹åŸè¾“å…¥æ•°æ®ï¼ŒèŠ‚çœç©ºé—´ã€‚å°†ç©ºé—´å¤æ‚åº¦ä¸‹é™ä¸º `O(1)`ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•æœ‰å±€é™ï¼Œæ€è€ƒä¸‹ä¸ºä»€ä¹ˆï¼Ÿ

```java
// å¦‚æœç»™å®šçš„è¾“å…¥æ•°ç»„ä¸­çš„æ•°æ®éƒ½æ˜¯æ­£æ•°çš„è¯ï¼Œå¯ä»¥ä¿®æ”¹åŸæ•°ç»„æ¥èŠ‚çº¦ç©ºé—´
public int[] spiralOrder(int[][] matrix) {
    if (matrix.length == 0) {
        return new int[]{};
    }

    int row = matrix.length;
    int column = matrix[0].length;
    int resSize = row * column;
    int[] ans = new int[resSize];
    int x = 0;
    int y = 0;
    int tot = 0;
    while (tot < resSize) {
        while (y < column && matrix[x][y] != -1) {
            ans[tot++] = matrix[x][y];
            matrix[x][y] = -1;
            y++;
        }
        y--; // ä¿®æ­£
        x++; // æ¢åˆ°ä¸‹ä¸€è¡Œ
        while (x < row && matrix[x][y] != -1) {
            ans[tot++] = matrix[x][y];
            matrix[x][y] = -1;
            x++;
        }
        x--; // ä¿®æ­£
        y--; // æ¢è¡Œ
        while (y >= 0 && matrix[x][y] != -1) {
            ans[tot++] = matrix[x][y];
            matrix[x][y] = -1;
            y--;
        }
        y++; // ä¿®æ­£
        x--; // æ¢è¡Œ
        while (x >= 0 && matrix[x][y] != -1) {
            ans[tot++] = matrix[x][y];
            matrix[x][y] = -1;
            x--;
        }
        x++; // ä¿®æ­£
        y++; // æ¢è¡Œ
    }
    return ans;
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š `O(n)` ã€‚è™½ç„¶æœ‰å¤šé‡å¾ªç¯ï¼Œä½†æ˜¯æ¯ä¸ªå…ƒç´ ä»…è®¿é—®ä¸€æ¬¡ã€‚

+ ç©ºé—´å¤æ‚åº¦ï¼š `O(n)` ã€‚é¢å¤–çš„å’Œè¾“å…¥æ•°æ®ç­‰å¤§çš„æ•°ç»„ç©ºé—´ã€‚

    + å¦‚æœä¿®æ”¹åŸæ•°ç»„çš„å€¼ï¼Œå¯ä»¥åšåˆ° `O(1) ` çš„ç©ºé—´ã€‚è¿™äº›é€‰æ‹©ä¸ä¿®æ”¹åŸè¾“å…¥æ•°æ®ã€‚ä½†æ˜¯éœ€è¦æ•°ç»„ä¸­çš„æ•°æ®æœ‰ä¸€å®šçš„èŒƒå›´ï¼Œå¦‚æœå…¨éƒ¨éƒ½æ˜¯éšæœºæ•°æ®ï¼Œé‚£ä¹ˆä¿®æ”¹åŸæ•°ç»„æ¥æ ‡è®°è®¿é—®ä¸å¦ä¼šå‡º bug ã€‚



### ä¸æ±¡æŸ“ã€‚å‘åçœ‹ä¸€ä¸ªï¼Œåˆ¤æ–­è¶Šç•Œä¸å¦

è¿˜æœ‰ä¸€ç§æ–¹å¼å…¶ä»£ç æ›´åŠ ç®€æ´ä¸”ä¼˜é›…ã€‚

æ¯æ¬¡å‘åçœ‹ä¸€ä¸ªï¼Œæ¯æ¬¡å°†â€œæŒ‡é’ˆâ€ç§»åŠ¨åˆ°åˆšåˆšå¥½çš„ä½ç½®ï¼Œä¸å»è¶Šç•Œã€‚

ä¸‹é¢çš„ä»£ç æ€è·¯æ¥è‡ª ã€Šç®—æ³•ç«èµ›å…¥é—¨ç»å…¸ã€‹ä¸­çš„ ã€Šè›‡å½¢å¡«æ•°ã€‹

![è›‡å½¢å¡«æ•°é¢˜ç›®](https://assets.ryantech.ltd/3S7hsJmXRNi6Cq9.png)



![è›‡å½¢å¡«æ•°ä»£ç å’Œç»†èŠ‚åˆ†æ](https://i.loli.net/2020/06/05/nFgLJqPxY6CWkX3.png)



éœ€è¦æ³¨æ„çš„æ˜¯ è‡ªå¢ å’Œ è‡ªå‡ æ“ä½œæ˜¯å‰ç¼€è¿˜æ˜¯åä¸»ï¼Œéœ€è¦å¯¹è¾¹ç•Œæƒ…å†µå¾ˆæ¸…æ¥šã€‚



#### ä»£ç å®ç°

```java
public int[] spiralOrder(int[][] matrix) {
    if (matrix.length == 0) {
        return new int[]{};
    }

    int row = matrix.length;
    int column = matrix[0].length;
    int resSize = row * column;
    int[] ans = new int[resSize];
    boolean[][] visited = new boolean[row][column];
    int x = 0;
    int y = 0;
    int tot = 0;
    visited[x][y] = true;
    ans[tot] = matrix[x][y];

    while (tot < resSize - 1) {
        while (y + 1 < column && !visited[x][y + 1]) {
            ans[++tot] = matrix[x][++y]; // å‰ç¼€
            visited[x][y] = true;
        }
        while (x + 1 < row && !visited[x + 1][y]) {
            ans[++tot] = matrix[++x][y];
            visited[x][y] = true;
        }
        while (y - 1 >= 0 && !visited[x][y - 1]) {
            ans[++tot] = matrix[x][--y];
            visited[x][y] = true;
        }
        while (x - 1 >= 0 && !visited[x - 1][y]) {
            ans[++tot] = matrix[--x][y];
            visited[x][y] = true;
        }
    }
    return ans;
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š `O(n)` ã€‚è™½ç„¶æœ‰å¤šé‡å¾ªç¯ï¼Œä½†æ˜¯æ¯ä¸ªå…ƒç´ ä»…è®¿é—®ä¸€æ¬¡ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š `O(n)` ã€‚é¢å¤–çš„å’Œè¾“å…¥æ•°æ®ç­‰å¤§çš„æ•°ç»„ç©ºé—´ã€‚



## 3. æ€»ç»“ğŸ¯

### ç›¸ä¼¼é¢˜ç›®

[54. èºæ—‹çŸ©é˜µ](https://leetcode-cn.com/problems/spiral-matrix/)

[59. èºæ—‹çŸ©é˜µ II](https://leetcode-cn.com/problems/spiral-matrix-ii/) å°±æ˜¯ã€Šè›‡å½¢å¡«æ•°ã€‹

