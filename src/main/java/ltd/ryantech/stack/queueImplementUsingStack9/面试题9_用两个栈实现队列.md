# é¢è¯•é¢˜ 9 ï¼šç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—

---

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/)

ğŸ“—difficultyï¼š**Easy** 

ğŸ¯Tagsï¼š

+ **[æ ˆ](https://leetcode-cn.com/tag/stack/)** 
+ **[è®¾è®¡](https://leetcode-cn.com/tag/design/)** 

---

## 1. é¢˜ç›®æè¿°ğŸ“ƒ

ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚é˜Ÿåˆ—çš„å£°æ˜å¦‚ä¸‹ï¼Œè¯·å®ç°å®ƒçš„ä¸¤ä¸ªå‡½æ•° appendTail å’Œ deleteHead ï¼Œåˆ†åˆ«å®Œæˆåœ¨é˜Ÿåˆ—å°¾éƒ¨æ’å…¥æ•´æ•°å’Œåœ¨é˜Ÿåˆ—å¤´éƒ¨åˆ é™¤æ•´æ•°çš„åŠŸèƒ½ã€‚(è‹¥é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ ï¼ŒdeleteHead æ“ä½œè¿”å› -1 )

æ ·ä¾‹ 1ï¼š

+ è¾“å…¥ï¼š
    `["CQueue","appendTail","deleteHead","deleteHead"]`
    `[[],[3],[],[]]`
+ è¾“å‡ºï¼š`[null,null,3,-1]`

å³ï¼Œåˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ·»åŠ å…ƒç´  3 ï¼Œå†å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ ï¼Œå†å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ ã€‚

## 2. è§£é¢˜æ€è·¯ğŸ’¡

![](https://assets.ryantech.ltd/20200501212115.png)

ä»¥ä¸Šé¢è¿™ä¸ªä¾‹å­ä½œä¸ºæ¼”ç¤ºã€‚ä¾æ¬¡æ’å…¥å…ƒç´  aã€bã€c ä¹‹åï¼Œstack2 ä¸ºç©ºï¼Œæ­¤æ—¶éœ€è¦åˆ é™¤é˜Ÿåˆ—å¤´ã€‚å¯è¡Œçš„æ“ä½œæ˜¯ï¼šå°† stack1 çš„å…ƒç´ å…¨éƒ¨ push åˆ° stack2 ä¸­ï¼Œpop æ‰ stack2 çš„æ ˆé¡¶å…ƒç´ å³å¯ã€‚æ­¤æ—¶å¦‚æœéœ€è¦å†åˆ é™¤é˜Ÿåˆ—å¤´ï¼Œstack2 éç©ºï¼Œpop å‡ºæ ˆé¡¶å…ƒç´ å³å¯ã€‚

è€Œæ·»åŠ å…ƒç´ ï¼Œç›´æ¥æ·»åŠ è‡³ stack1 å³å¯ã€‚

æ€»ç»“ä»¥ä¸Š 2 ä¸ªæƒ…å†µï¼Œç¼–å†™ä»£ç ã€‚

```java
class CQueue {

    Stack<Integer> stack_in;
    Stack<Integer> stack_out;

    public CQueue() {
        this.stack_in = new Stack<>();
        this.stack_out = new Stack<>();
    }

    public void appendTail(int value) {
        this.stack_in.push(value);
    }

    public int deleteHead() {
        if (this.stack_out.isEmpty()) {
            if (this.stack_in.isEmpty()) {
                // å‡ä¸ºç©ºæ—¶ï¼Œè¯´æ˜é˜Ÿåˆ—ä¸ºç©º
                return -1;
            }
            while (!this.stack_in.isEmpty()) {
                this.stack_out.push(this.stack_in.pop());
            }
            return this.stack_out.pop();
        }
        return this.stack_out.pop();
    }
}
```

#### å¤æ‚åº¦åˆ†æï¼š

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)`

+ ç©ºé—´å¤æ‚åº¦ï¼š`O(n)`



## 3. æ€»ç»“ğŸ¯

### æ‰©å±•é¢˜ç›®

ä½¿ç”¨ 2 ä¸ªé˜Ÿåˆ—ï¼Œæ¥å®ç° 1 ä¸ªæ ˆã€‚

![](https://assets.ryantech.ltd/20200501233143.png)

å¯¹äºå‹å…¥æ•°æ®åˆ°æ ˆä¸­ï¼Œç›´æ¥å°†å…ƒç´ å…¥é˜Ÿåˆ° queue1 ä¸­å³å¯ã€‚

å¼¹å‡ºæ ˆé¡¶å…ƒç´ åˆ™éœ€è¦åˆ†æƒ…å†µè®¨è®ºï¼š

+ å½“ queue2 ä¸ºç©ºçš„æƒ…å†µä¸‹ï¼š
    + å¦‚æœ queue1 ä¹Ÿä¸ºç©ºï¼Œé‚£ä¹ˆæ ˆç©ºã€‚
    + å¦‚æœ queue1 çš„å…ƒç´ æ•°é‡å¤šä½™ 1 ä¸ªï¼Œé‚£ä¹ˆå°±ä¾æ¬¡å‡ºé˜Ÿå…ƒç´ ï¼Œå¹¶å­˜å…¥åˆ° queue2 ä¸­ã€‚æœ€åå‡ºé˜Ÿ queue1 çš„é˜Ÿå¤´å…ƒç´ ï¼Œå®Œæˆâ€œå¼¹æ ˆæ“ä½œâ€ã€‚

+ åœ¨ queue2 ä¸ä¸ºç©ºçš„æƒ…å†µä¸‹ï¼Œæ­¤æ—¶çš„æ ˆé¡¶å…ƒç´ ä¸º queue2 çš„é˜Ÿå°¾ã€‚å°† queue2 ä¸­é™¤é˜Ÿå°¾çš„å…ƒç´ ä¾æ¬¡å‡ºé˜Ÿï¼Œå¹¶å­˜å…¥åˆ° queue1 ä¸­ï¼Œæœ€åå‡ºé˜Ÿ queue2 çš„é˜Ÿå°¾ï¼Œå®Œæˆâ€œå¼¹æ ˆæ“ä½œâ€ã€‚

```java
public class StackImplementUsingQueue {
    Queue<Integer> queue_in;
    Queue<Integer> queue_out;

    public StackImplementUsingQueue() {
        this.queue_in = new LinkedList<>();
        this.queue_out = new LinkedList<>();
    }

    public void pushToStack(int value) {
        this.queue_in.add(value);
    }

    public int popFromStack() {
        if (this.queue_out.isEmpty()) {
            if (this.queue_in.isEmpty()) {
                // 2 ä¸ª queue å‡ç©ºæ—¶ï¼Œè¡¨ç¤ºæ ˆç©ºï¼Œè¿”å› -1
                return -1;
            }
            while (this.queue_in.size() != 1) {
                // å½“ in é˜Ÿåˆ—è¿˜æœ‰æœ€åä¸€ä¸ªå°¾éƒ¨å…ƒç´ æ—¶ï¼Œå°†å…¶ä½™å…ƒç´ è½¬ç§»è‡³ out ä¸­
                // ç›¸å½“äºå°†â€æ ˆé¡¶å…ƒç´ â€œæŒ¤åˆ° in çš„å¤´å…ƒç´ ä½ç½®
                // æœ€ååˆ é™¤ in çš„å¤´å…ƒç´ ï¼Œå³å®Œæˆäº†â€œå¼¹æ ˆâ€æ“ä½œ
                this.queue_out.add(this.queue_in.remove());
            }
            return this.queue_in.remove();
        } else {
            // å½“ out ä¸­å­˜åœ¨å…ƒç´ æ—¶ï¼Œéœ€è¦å°† out ä¸­çš„å…ƒç´ å…¥é˜Ÿåˆ° in ä¸­
            // å°† out çš„é˜Ÿå°¾ï¼Œå³â€œæ ˆé¡¶å…ƒç´ â€æŒ¤åˆ° out çš„å¤´å…ƒç´ ä½ç½®
            // å†å°† out å¤´å…ƒç´ å‡ºé˜Ÿï¼Œå³å®Œæˆäº†â€å¼¹æ ˆâ€œæ“ä½œ
            while (this.queue_out.size() != 1) {
                this.queue_in.add(this.queue_out.remove());
            }
            return this.queue_out.remove();
        }
    }

    public static void main(String[] args) {
        StackImplementUsingQueue stack = new StackImplementUsingQueue();
        stack.pushToStack(1);
        stack.pushToStack(2);
        stack.pushToStack(3);
        stack.pushToStack(4);
        System.out.println(stack.popFromStack());
        System.out.println(stack.popFromStack());
        stack.pushToStack(5);
        stack.pushToStack(6);
        System.out.println(stack.popFromStack());
        System.out.println(stack.popFromStack());
        stack.pushToStack(7);
        System.out.println(stack.popFromStack());
        System.out.println(stack.popFromStack());
        System.out.println(stack.popFromStack());
        System.out.println(stack.popFromStack());
        System.out.println(stack.popFromStack());
    }
```

è¾“å‡ºä¸ºï¼š

```powershell
4
3
6
5
7
2
1
-1
-1

Process finished with exit code 0
```

#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)`

+ ç©ºé—´å¤æ‚åº¦ï¼š`O(n)`

---

### æœ¬é¢˜è€ƒç‚¹

+ è€ƒå¯Ÿåº”è˜è€…å¯¹æ ˆå’Œé˜Ÿåˆ—çš„ç†è§£ã€‚
+ è€ƒå¯Ÿåº”è˜è€…å†™å’Œæ¨¡æ¿ç›¸å…³çš„ä»£ç çš„èƒ½åŠ›ã€‚
+ è€ƒå¯Ÿåº”è˜è€…åˆ†æå¤æ‚é—®é¢˜çš„èƒ½åŠ›ã€‚æœ¬é¢˜è§£æ³•çš„ä»£ç è™½ç„¶åªæœ‰çŸ­çŸ­çš„å‡ åè¡Œï¼Œä½†æ˜¯å½¢æˆæ­£ç¡®çš„æ€è·¯å´ä¸å®¹æ˜“ã€‚è€ƒå¯Ÿåº”è˜è€…èƒ½å¦é€šè¿‡ç”»å›¾çš„æ‰‹æ®µï¼Œå°†æŠ½è±¡çš„é—®é¢˜å½¢è±¡åŒ–ï¼Œä»è€Œè§£å†³è¯¥é—®é¢˜ã€‚

