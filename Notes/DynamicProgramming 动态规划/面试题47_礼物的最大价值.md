# é¢è¯•é¢˜ 47 ï¼šç¤¼ç‰©çš„æœ€å¤§ä»·å€¼

---

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/li-wu-de-zui-da-jie-zhi-lcof/)

ğŸ“—difficultyï¼š**Easy**	

ğŸ¯Tagsï¼š

+ **[åŠ¨æ€è§„åˆ’](https://leetcode-cn.com/tag/dynamic-programming/)**
+ **[è´ªå¿ƒç®—æ³•](https://leetcode-cn.com/tag/greedy/)**
---

## 1. é¢˜ç›®æè¿°ğŸ“ƒ

åœ¨ä¸€ä¸ª `m*n` çš„æ£‹ç›˜çš„æ¯ä¸€æ ¼éƒ½æ”¾æœ‰ä¸€ä¸ªç¤¼ç‰©ï¼Œæ¯ä¸ªç¤¼ç‰©éƒ½æœ‰ä¸€å®šçš„ä»·å€¼ï¼ˆä»·å€¼å¤§äº 0ï¼‰ã€‚ä½ å¯ä»¥ä»æ£‹ç›˜çš„å·¦ä¸Šè§’å¼€å§‹æ‹¿æ ¼å­é‡Œçš„ç¤¼ç‰©ï¼Œå¹¶æ¯æ¬¡å‘å³æˆ–è€…å‘ä¸‹ç§»åŠ¨ä¸€æ ¼ã€ç›´åˆ°åˆ°è¾¾æ£‹ç›˜çš„å³ä¸‹è§’ã€‚ç»™å®šä¸€ä¸ªæ£‹ç›˜åŠå…¶ä¸Šé¢çš„ç¤¼ç‰©çš„ä»·å€¼ï¼Œè¯·è®¡ç®—ä½ æœ€å¤šèƒ½æ‹¿åˆ°å¤šå°‘ä»·å€¼çš„ç¤¼ç‰©ï¼Ÿ



**æ ·ä¾‹ 1 ï¼š**

```
è¾“å…¥: 
[
  [1,3,1],
  [1,5,1],
  [4,2,1]
]
è¾“å‡º: 12
è§£é‡Š: è·¯å¾„ 1â†’3â†’5â†’2â†’1 å¯ä»¥æ‹¿åˆ°æœ€å¤šä»·å€¼çš„ç¤¼ç‰©
```



**æ³¨æ„ï¼š**

+ `0 < grid.length <= 200`
+ `0 < grid[0].length <= 200`



---

## 2. è§£é¢˜æ€è·¯ğŸ’¡

é¢˜ç›®ç»™å®šçš„æ¡ä»¶å¾ˆç®€å•ï¼Œä»å·¦ä¸Šè§’å¼€å§‹ç§»åŠ¨ï¼Œåªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ï¼Œæ±‚æœ€å¤§å€¼ã€‚

å¾ˆæ˜¾ç„¶ï¼Œåªè¦æ¯ä¸€æ­¥ç§»åŠ¨ï¼Œéƒ½å–æœ€å¤§çš„å°±å¯ä»¥äº†ã€‚å¾ˆç®€å•çš„è´ªå¿ƒé€»è¾‘ã€‚



> ä»¥ä¸‹æ€è·¯æ¥è‡ª [leetcode-cn ç”¨æˆ· Krahets çš„é¢˜è§£](https://leetcode-cn.com/problems/li-wu-de-zui-da-jie-zhi-lcof/solution/mian-shi-ti-47-li-wu-de-zui-da-jie-zhi-dong-tai-gu/)ï¼Œæ„Ÿè°¢ä»–çš„è¯¦å®çš„åˆ†æã€‚



![çŠ¶æ€è½¬ç§»æ–¹ç¨‹](https://assets.ryantech.ltd/20200622140635.png)



ä½¿ç”¨ 2 å±‚å¾ªç¯ï¼Œå¦‚æœé‡åˆ°äº†ç¬¬ 0 è¡Œå…ƒç´ ï¼Œé‚£ä¹ˆå°±è®¡ç®—å®ƒçš„å·¦è¾¹ä¸€ä¸ªå…ƒç´ å³å¯ï¼›å¦‚æœé‡åˆ°äº†ç¬¬ 0 åˆ—å…ƒç´ ï¼Œé‚£ä¹ˆè®¡ç®—å®ƒä¸Šé¢ä¸€ä¸ªå…ƒç´ å³å¯ã€‚



### â‘ ç»å…¸ `dp[][]` åŠ¨æ€è§„åˆ’



#### ä»£ç å®ç°

```java
// ç»å…¸ dp[] æ•°ç»„ç‰ˆæœ¬
public int maxValue(int[][] grid) {
    if (grid == null) {
        return 0;
    }

    int m = grid.length;
    int n = grid[0].length;
    int[][] dp = new int[m][n];
    for (int row = 0; row < m; row++) {
        for (int column = 0; column < n; column++) {
            if (row == 0 && column == 0) {
                dp[row][column] = grid[0][0]; // åˆå§‹åŒ–
                continue;
            }
            if (row == 0) {
                dp[row][column] = dp[row][column - 1] + grid[row][column];
            } else if (column == 0) {
                dp[row][column] += dp[row - 1][column] + grid[row][column];
            } else {
                dp[row][column] = Math.max(dp[row - 1][column], dp[row][column - 1]) + grid[row][column];
            }
        }
    }
    return dp[m - 1][n - 1];
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)` ã€‚æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½éœ€è¦éå†ä¸€æ¬¡ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(n)` ã€‚éœ€è¦é¢å¤–çš„ç­‰å¤§çš„ä¸€ä¸ªäºŒç»´æ•°ç»„æ¥å­˜æ”¾æœ€ä¼˜è§£ã€‚

---

### â‘¡ä½¿ç”¨ `grid[][]` æ•°ç»„ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦



#### ä»£ç å®ç°

```java
// åˆ©ç”¨ grid æ•°ç»„ï¼Œä¼˜åŒ–ç©ºé—´
// ä½†æ˜¯æ”¹å˜äº†è¾“å…¥çš„æ•°ç»„
public int maxValue(int[][] grid) {
    if (grid == null) {
        return 0;
    }

    int m = grid.length;
    int n = grid[0].length;
    for (int row = 0; row < m; row++) {
        for (int column = 0; column < n; column++) {
            if (row == 0 && column == 0) {
                continue;
            }
            if (row == 0) {
                grid[row][column] += grid[row][column - 1];
            } else if (column == 0) {
                grid[row][column] += grid[row - 1][column];
            } else {
                grid[row][column] += Math.max(grid[row - 1][column], grid[row][column - 1]);
            }
        }
    }
    return grid[m - 1][n - 1];
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)` ã€‚æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½éœ€è¦éå†ä¸€æ¬¡ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(1)` ã€‚ç›´æ¥ä¿®æ”¹åŸè¾“å…¥æ•°ç»„ã€‚

---

### â‘¢åˆå§‹åŒ–ç‰¹æ®Šè¡Œå’Œåˆ—

ç›´æ¥åˆå§‹åŒ–ç‰¹æ®Šçš„ `ç¬¬ 0 è¡Œ` å’Œ `ç¬¬ 0 åˆ—` ï¼Œå‡å°‘å†—ä½™çš„åˆ¤æ–­æ“ä½œã€‚



#### ä»£ç å®ç°

```java
// åˆå§‹åŒ– 0 è¡Œ 0 åˆ—ï¼Œé¿å…å¤šæ¬¡å†—ä½™åˆ¤æ–­
public int maxValue(int[][] grid) {
    if (grid == null) {
        return 0;
    }

    int m = grid.length;
    int n = grid[0].length;
    // åˆå§‹åŒ–ç¬¬ 0 è¡Œ
    for (int row = 1; row < m; row++) {
        grid[row][0] += grid[row - 1][0];
    }
    // åˆå§‹åŒ–ç¬¬ 0 åˆ—
    for (int column = 1; column < n; column++) {
        grid[0][column] += grid[0][column - 1];
    }

    for (int row = 1; row < m; row++) {
        for (int column = 1; column < n; column++) {
            grid[row][column] += Math.max(grid[row - 1][column], grid[row][column - 1]);
        }
    }
    return grid[m - 1][n - 1];
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)` ã€‚æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½éœ€è¦éå†ä¸€æ¬¡ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(1)` ã€‚ç›´æ¥ä¿®æ”¹åŸè¾“å…¥æ•°ç»„ã€‚

---

## 3. æ€»ç»“ğŸ¯

