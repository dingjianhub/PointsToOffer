# é¢è¯•é¢˜ 42 ï¼šè¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ

---

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof/)

ğŸ“—difficultyï¼š**Easy**	

ğŸ¯Tagsï¼š

+ **[åŠ¨æ€è§„åˆ’](https://leetcode-cn.com/tag/dynamic-programming/)**



---

## 1. é¢˜ç›®æè¿°ğŸ“ƒ

 ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚ 

**æ ·ä¾‹ 1ï¼š**

```
è¾“å…¥: [-2,1,-3,4,-1,2,1,-5,4],
è¾“å‡º: 6
è§£é‡Š: è¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6ã€‚
```



**æç¤ºï¼š**

- `1 <= arr.length <= 10^5`
- `-100 <= arr[i] <= 100`

**æ³¨æ„ï¼š**

+ æœ¬é¢˜ä¸ä¸»ç«™ 53 é¢˜ç›¸åŒï¼šhttps://leetcode-cn.com/problems/maximum-subarray/

---

## 2. è§£é¢˜æ€è·¯ğŸ’¡

### åŠ¨æ€è§„åˆ’

ç›´æ¥æ¥çœ‹ï¼Œä¸€ç§æƒ³æ³•æ˜¯ï¼Œä» 0 å¼€å§‹å‘åéå†ï¼Œåˆ†åˆ«ä»¥ 0 å¼€å¤´ï¼Œè®¡ç®—ä»¥ 0 å¼€å¤´çš„å­åºåˆ—çš„å’Œï¼Œä»¥ 1 å¼€å¤´çš„å­åºåˆ—çš„å’Œï¼Œä½†è¿™æ ·å¤æ‚åº¦å¾ˆé«˜ï¼Œ`O(n ^ 2)` çº§åˆ«ã€‚

é‚£ä¹ˆå¦‚æœæ¢ä¸€ä¸ªæ€è·¯ï¼Œä»¥ 0 ç»“å°¾çš„å­åºåˆ—å’Œï¼Œä»¥ 1 ç»“å°¾çš„å­åºåˆ—å’Œï¼Œç­‰ç­‰ã€‚

é‚£ä¹ˆéœ€è¦å…³å¿ƒçš„äº‹æƒ…å˜ä¸ºï¼Œ`dp[i - 1] + nums[i]` å¦‚æœå¤„ç†ã€‚å¦‚æœå…ˆå‰çš„å­åºåˆ—çš„å’Œå¤§äº 0 ï¼Œé‚£ä¹ˆå°†å…¶åŠ å…¥åˆ° dp[] æ•°ç»„ä¸­ï¼Œå¦åˆ™ï¼Œä¸åŠ å…¥å…ˆå‰çš„å­åºå’Œã€‚

è¿™æ ·çš„æ€è·¯å« â€œå‰ç¼€å’Œâ€ã€‚



#### ä»£ç å®ç°

```java
public int maxSubArray(int[] nums) {
    if (nums == null || nums.length == 0) {
        return 0;
    }

    int[] dp = new int[nums.length];
    int res = nums[0];
    dp[0] = nums[0]; // dp[i] è¡¨ç¤ºä»¥ i ç»“å°¾çš„å­æ•°ç»„çš„æœ€å¤§å’Œ
    if (nums.length > 1) {
        for (int i = 1; i < nums.length; i++) {
            dp[i] = nums[i] + (Math.max(dp[i - 1], 0));
            res = Math.max(res, dp[i]);
        }
    }
    return res;
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)` ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(n)` ã€‚

---

### åŠ¨æ€è§„åˆ’ ç©ºé—´ä¼˜åŒ–

ä»ä¸Šé¢çš„ä»£ç ä¸Šå¯ä»¥è§çš„ï¼Œ`dp[i]` çš„å€¼åªå’Œä¸Šä¸€ä¸ª `dp[i - 1]` ç›¸å…³ï¼Œé‚£ä¹ˆå¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ã€‚ä½¿ç”¨å‡ ä¸ªå˜é‡å³å¯ã€‚



```java
// ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–ç‰ˆ
public int maxSubArray(int[] nums) {
    if (nums == null || nums.length == 0) {
        return 0;
    }

    int n = nums.length;
    int prev = nums[0]; // ä¿å­˜å½“å‰çš„æœ€ä¼˜å€¼ï¼Œä¸‹è½®å¾ªç¯å˜ä¸ºä¸Šä¸€ä¸ªæœ€ä¼˜å€¼ï¼Œæ¥åˆ¤æ–­æ˜¯ä¸æ˜¯è¦åŠ å…¥ ä¸Šè½®çš„æœ€ä¼˜å€¼
    int cur = nums[0]; // å½“å‰å¯å–çš„æœ€ä¼˜å€¼
    int maxSum = nums[0]; // æœ€ç»ˆè¦è¾“å‡ºçš„æœ€å¤§å€¼
    if (n > 1) {
        for (int i = 1; i < n; i++) {
            cur = nums[i] + (Math.max(prev, 0));
            prev = cur;
            maxSum = Math.max(cur, maxSum);
        }
    }
    return maxSum;
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)` ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(1)` ã€‚



---

## 3. æ€»ç»“ğŸ¯

åŸºç¡€åŠ¨æ€è§„åˆ’ã€‚

é¢å¤–è¡¥å……ä¸€é“åŠ¨æ€è§„åˆ’é¢˜ã€‚



### å®ˆæœ›è€…

##### é¢˜ç›®æè¿°

å®ˆæœ›è€…åœ¨ä¸€ä¸ªå°å²›ä¸Šï¼Œå°å²›æ­£åœ¨ä¸‹æ²‰ä¸­ï¼Œé¢„è®¡ t ç§’åå°±è¦æ²‰æ²¡ï¼Œä»–è·ç¦»é€ƒç”Ÿå‡ºå£çš„è·ç¦»ä¸º `s`ã€‚ä»–å¯ä»¥é€‰æ‹©è·‘è·¯å‰è¿›ï¼Œé€Ÿåº¦ä¸º `17 M / s` ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨é­”æ³•æŠ€èƒ½â€œé—ªâ€ï¼Œåœ¨ 1 ç§’å†…å‰è¿› 60 ç±³ã€‚ä½†æ˜¯ä½¿ç”¨è¿™ä¸ªæŠ€èƒ½éœ€è¦é­”æ³•å€¼ï¼Œéœ€è¦æ¶ˆè€— 10 ç‚¹é­”æ³•å€¼ï¼Œå®ˆæœ›è€…åˆå§‹é­”æ³•å€¼ä¸º `m`ã€‚å¦‚æœé­”æ³•å€¼ä¸å¤Ÿï¼Œå¯ä»¥é€šè¿‡ä¼‘æ¯è·å¾—ï¼Œæ¯ç§’æ¢å¤ 4 ç‚¹é­”æ³•å€¼ã€‚

å®ˆæœ›è€…æ¯ç§’åªèƒ½åšä¸€ä»¶äº‹æƒ…ï¼Œæ¯”å¦‚ä¼‘æ¯æ—¶ä¸èƒ½è·‘ä¹Ÿä¸èƒ½é—ªã€‚

è¯·é—®è¯¥å®ˆæœ›è€…èƒ½å¦é€ƒå‡ºå°å²›ï¼Œå¦‚æœèƒ½ï¼Œè¾“å‡ºå…¶é€ƒå‡ºçš„æ—¶é—´ç‚¹ï¼›å¦‚æœä¸èƒ½ï¼Œè¾“å‡ºé€ƒç¦»çš„æœ€è¿œè·ç¦»ã€‚

+ è¾“å…¥æ ¼å¼ï¼š
    + ä¸€è¡Œæ•´æ•°ï¼Œåˆ†åˆ«ä»£è¡¨ `m,s,t` ã€‚

##### è§£é¢˜æ€è·¯

`dp[i]` è¡¨ç¤º `i` ç§’æ—¶é€ƒç¦»çš„æœ€è¿œè·ç¦»ã€‚

ç¬¬ä¸€æ¬¡å‡è®¾å…¶å…¨éƒ¨ä½¿ç”¨é—ªé¿æŠ€èƒ½ï¼Œè®°å½•ä¸‹æ¯ä¸ªæ—¶é—´ç‚¹çš„æœ€è¿œè·ç¦»ã€‚

ç¬¬äºŒæ¬¡å‡è®¾å…¨éƒ¨ä½¿ç”¨è·‘æ­¥ä»…èƒ½ï¼Œæ›´æ–°æœ€è¿œçš„è·ç¦»ã€‚

æœ€åè¿›è¡Œåˆ¤æ–­å³å¯ã€‚

```java
import java.util.Scanner;

public class Main{
    public static void Solution() {
    	Scanner input = new Scanner(System.in);
        int m = input.nextInt();
        int s = input.nextInt();
        int t = input.nextInt();
        input.close();
        int[] dp = new int[t + 10];
        for (int i = 1; i <= t; i++) {
            if (m >= 10) {
                dp[i] = dp[i - 1] + 60;
                m = m - 10;
            } else {
                dp[i] = dp[i - 1];
                m = m + 4;
            }
        }

        for (int i = 1; i <= t; i++) {
            dp[i] = Math.max(dp[i - 1] + 17, dp[i]);
        }

        for (int i = 1; i <= t; i++) {
            if (dp[i] >= s) {
                System.out.print("Yes\n" + i);
                return;
            }
        }
        System.out.print("No\n" + dp[t]);
    }
    
    public static void main(String args[]) {
        Solution();
    }
}
```


